---
const { settings } = Astro.props;

if (!settings) return null;

const edpi = (settings.dpi && settings.sens) ? (settings.dpi * settings.sens) : "N/A";
---

<div class="mb-12">
    {/* Section Header */}
    <h3 class="font-title text-2xl text-white mb-6 flex items-center gap-3 opacity-80">
        <span class="w-1.5 h-6 bg-cyan-500 rounded-sm shadow-[0_0_10px_#06b6d4]"></span>
        PLAYER CONFIG
    </h3>

    {/* THE COMPACT SPEC CARD */}
    <div class="relative w-full bg-neutral-900/40 border border-white/5 rounded-2xl overflow-hidden backdrop-blur-md p-5 flex flex-col gap-6">
        
        {/* Top Gradient Line */}
        <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>

        {/* 1. HARDWARE (Top Row) */}
        <div>
            <div class="flex items-center gap-2 mb-3">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-neutral-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/></svg>
                 <span class="text-xs font-mono text-neutral-500 uppercase tracking-widest font-bold">Hardware</span>
            </div>
            <div class="bg-black/30 border border-white/5 rounded-xl p-4">
                <div class="text-[10px] text-neutral-600 uppercase font-bold mb-1">Mouse Model</div>
                <div class="text-base font-bold text-white truncate" title={settings.mouse}>{settings.mouse || "Standard Issue"}</div>
                
                {settings.monitor && (
                    <div class="mt-3 pt-3 border-t border-white/5">
                        <div class="text-[10px] text-neutral-600 uppercase font-bold mb-1">Display</div>
                        <div class="text-sm font-bold text-neutral-300 truncate">{settings.monitor}</div>
                    </div>
                )}
            </div>
        </div>

        {/* 2. SENSITIVITY GRID (Middle) */}
        <div>
             <div class="flex items-center gap-2 mb-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-cyan-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h18v18H3zM12 8v8M8 12h8"/></svg>
                <span class="text-xs font-mono text-cyan-500 uppercase tracking-widest font-bold">Settings</span>
            </div>
            <div class="grid grid-cols-3 gap-2">
                <div class="bg-black/30 border border-white/5 rounded-lg p-3 text-center">
                    <div class="text-[9px] text-neutral-500 uppercase font-bold mb-0.5">DPI</div>
                    <div class="text-lg font-mono font-bold text-white">{settings.dpi || "-"}</div>
                </div>
                <div class="bg-black/30 border border-white/5 rounded-lg p-3 text-center">
                    <div class="text-[9px] text-neutral-500 uppercase font-bold mb-0.5">Sens</div>
                    <div class="text-lg font-mono font-bold text-white">{settings.sens || "-"}</div>
                </div>
                <div class="bg-cyan-950/20 border border-cyan-500/20 rounded-lg p-3 text-center">
                    <div class="text-[9px] text-cyan-500 uppercase font-bold mb-0.5">eDPI</div>
                    <div class="text-lg font-mono font-bold text-cyan-400">{edpi}</div>
                </div>
            </div>
        </div>

        {/* 3. CROSSHAIR (Bottom) */}
        <div>
            <div class="flex items-center gap-2 mb-3">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-neutral-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M6 12h12"/></svg>
                 <span class="text-xs font-mono text-neutral-500 uppercase tracking-widest font-bold">Crosshair</span>
            </div>
            
            {settings.crosshair ? (
                <div class="space-y-2">
                    <code class="block w-full bg-black/50 border border-white/10 rounded-lg px-3 py-2 text-[10px] font-mono text-cyan-200/60 truncate select-all">
                        {settings.crosshair}
                    </code>
                    
                    <button 
                        class="w-full py-2 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-cyan-400 text-[10px] font-bold uppercase tracking-wider hover:bg-cyan-500 hover:text-white hover:border-cyan-500 transition-all active:scale-95 flex items-center justify-center gap-2"
                        onclick={`
                            navigator.clipboard.writeText('${settings.crosshair}');
                            this.innerText = 'COPIED âœ“';
                            setTimeout(() => { this.innerText = 'COPY CODE'; }, 2000);
                        `}
                    >
                        Copy Code
                    </button>
                </div>
            ) : (
                <div class="text-center py-2 border border-dashed border-white/10 rounded-lg">
                    <span class="text-xs text-neutral-600 font-mono italic">No data</span>
                </div>
            )}
        </div>

    </div>
</div>