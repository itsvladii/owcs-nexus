---
// src/pages/players/index.astro

import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import FilteredPlayerList from '../../components/FilteredPlayerList.tsx'; // 1. Import your new component

// 2. Fetch ALL players and teams
const allPlayers = await getCollection('players');
const allTeams = await getCollection('teams');
---

<BaseLayout title="All OWCS Players">

  <h1 class="text-4xl font-bold text-white mb-8 font-title">OWCS Players</h1>

  {/* 3. Render the React island
    We pass all the data to it as props.
    'client:load' tells Astro to load the JavaScript immediately.
  */}
  <FilteredPlayerList 
    players={allPlayers} 
    teams={allTeams} 
    client:load 
  />

</BaseLayout>