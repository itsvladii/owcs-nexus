---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PlayerDirectory from '../../components/PlayerDirectory'; // Check your import path!
import { getCollection } from 'astro:content';

// 1. Fetch Data
const allPlayers = await getCollection('players');
const allTeams = await getCollection('teams');

// 2. Sort Players (Alphabetical)
const sortedPlayers = allPlayers.sort((a, b) => 
  a.data.name.localeCompare(b.data.name)
);
---

<BaseLayout title="All Featured Players" fullWidth={true}>
  <div class="min-h-screen bg-neutral-950 pt-24">
      {/* Client Load is needed for search/filtering interactivity */}
      <PlayerDirectory client:load players={sortedPlayers} teams={allTeams} />
  </div>
</BaseLayout>